{"config":{"separator":"[\\s\\-_,:!=\\[\\]()\\\\\"`/]+|\\.(?!\\d)"},"items":[{"location":"","level":1,"title":"Get started","text":"<p>For full documentation visit zensical.org.</p>","path":["Get started"],"tags":[]},{"location":"#commands","level":2,"title":"Commands","text":"<ul> <li><code>zensical new</code> - Create a new project</li> <li><code>zensical serve</code> - Start local web server</li> <li><code>zensical build</code> - Build your site</li> </ul>","path":["Get started"],"tags":[]},{"location":"#examples","level":2,"title":"Examples","text":"","path":["Get started"],"tags":[]},{"location":"#admonitions","level":3,"title":"Admonitions","text":"<p>Go to documentation</p> <p>Note</p> <p>This is a note admonition. Use it to provide helpful information.</p> <p>Warning</p> <p>This is a warning admonition. Be careful!</p>","path":["Get started"],"tags":[]},{"location":"#details","level":3,"title":"Details","text":"<p>Go to documentation</p> Click to expand for more info <p>This content is hidden until you click to expand it. Great for FAQs or long explanations.</p>","path":["Get started"],"tags":[]},{"location":"#code-blocks","level":2,"title":"Code Blocks","text":"<p>Go to documentation</p> Code blocks<pre><code>def greet(name):\n    print(f\"Hello, {name}!\") # (1)!\n\ngreet(\"Python\")\n</code></pre> <ol> <li> <p>Go to documentation</p> <p>Code annotations allow to attach notes to lines of code.</p> </li> </ol> <p>Code can also be highlighted inline: <code>print(\"Hello, Python!\")</code>.</p>","path":["Get started"],"tags":[]},{"location":"#content-tabs","level":2,"title":"Content tabs","text":"<p>Go to documentation</p> PythonRust <pre><code>print(\"Hello from Python!\")\n</code></pre> <pre><code>println!(\"Hello from Rust!\");\n</code></pre>","path":["Get started"],"tags":[]},{"location":"#diagrams","level":2,"title":"Diagrams","text":"<p>Go to documentation</p> <pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre>","path":["Get started"],"tags":[]},{"location":"#footnotes","level":2,"title":"Footnotes","text":"<p>Go to documentation</p> <p>Here's a sentence with a footnote.<sup>1</sup></p> <p>Hover it, to see a tooltip.</p>","path":["Get started"],"tags":[]},{"location":"#formatting","level":2,"title":"Formatting","text":"<p>Go to documentation</p> <ul> <li>This was marked (highlight)</li> <li>This was inserted (underline)</li> <li>This was deleted (strikethrough)</li> <li>H<sub>2</sub>O</li> <li>A<sup>T</sup>A</li> <li>Ctrl+Alt+Del</li> </ul>","path":["Get started"],"tags":[]},{"location":"#icons-emojis","level":2,"title":"Icons, Emojis","text":"<p>Go to documentation</p> <ul> <li> <code>:sparkles:</code></li> <li> <code>:rocket:</code></li> <li> <code>:tada:</code></li> <li> <code>:memo:</code></li> <li> <code>:eyes:</code></li> </ul>","path":["Get started"],"tags":[]},{"location":"#maths","level":2,"title":"Maths","text":"<p>Go to documentation</p> \\[ \\cos x=\\sum_{k=0}^{\\infty}\\frac{(-1)^k}{(2k)!}x^{2k} \\] <p>Needs configuration</p> <p>Note that MathJax is included via a <code>script</code> tag on this page and is not configured in the generated default configuration to avoid including it in a pages that do not need it. See the documentation for details on how to configure it on all your pages if they are more Maths-heavy than these simple starter pages.</p>","path":["Get started"],"tags":[]},{"location":"#task-lists","level":2,"title":"Task Lists","text":"<p>Go to documentation</p> <ul> <li> Install Zensical</li> <li> Configure <code>zensical.toml</code></li> <li> Write amazing documentation</li> <li> Deploy anywhere</li> </ul>","path":["Get started"],"tags":[]},{"location":"#tooltips","level":2,"title":"Tooltips","text":"<p>Go to documentation</p> <p>Hover me</p> <ol> <li> <p>This is the footnote. ↩</p> </li> </ol>","path":["Get started"],"tags":[]},{"location":"LLM%E9%92%A9%E5%AD%90/","level":1,"title":"LLM钩子","text":"","path":["LLM钩子"],"tags":[]},{"location":"LLM%E9%92%A9%E5%AD%90/#_1","level":3,"title":"引言","text":"<p>AI 虽然读取了指令文件（如 CLAUDE.md），但在实际执行时仍会忽略或违反这些规则</p> <p>可以通过 “Hooks（钩子）” 机制来强制 AI 代理遵守特定指令</p>","path":["LLM钩子"],"tags":[]},{"location":"LLM%E9%92%A9%E5%AD%90/#_2","level":3,"title":"背景","text":"<p>开发者通常会在项目根目录下创建 <code>CLAUDE.md</code> 或 <code>AGENTS.md</code> 文件，用来告诉 AI：</p> <p>“当你运行测试时，请使用 <code>uv run pytest tests</code>，而不是直接运行 <code>pytest tests/</code>”</p> <p>但实践中，AI 经常“忘记”这条规则，仍然输出：</p> <pre><code>$ pytest tests/\n# command not found: pytest\n</code></pre> <p>因为 <code>pytest</code> 没有全局安装（而是通过 <code>uv</code> 工具管理），导致命令失败。用户不得不反复纠正 AI，体验极差</p>","path":["LLM钩子"],"tags":[]},{"location":"LLM%E9%92%A9%E5%AD%90/#_3","level":3,"title":"解决方案","text":"<p>在 AI 执行工具（如 Bash 命令）之前，插入一个检查钩子（Hook），自动拦截并拒绝不符合规范的操作</p> <ol> <li>配置 Hook 触发点     在 <code>~/.claude/settings.json</code> 中定义一个 <code>PreToolUse</code> 钩子，表示“在 AI 使用任何工具（如 Bash）之前先运行这个检查”</li> </ol> <pre><code>{\n  \"hooks\": {\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"Bash\",  // 只对 Bash 命令生效\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"python ~/.claude/hooks/check-uv-pytest.py\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre> <ol> <li> <p>编写检查脚本     创建脚本 <code>check-uv-pytest.py</code>，它会：</p> </li> <li> <p>从标准输入（stdin）读取 AI 即将执行的命令；</p> </li> <li>如果命令包含 <code>pytest</code> 但没有 <code>uv run</code>，就报错并退出码为 <code>2</code>（非零表示失败）；</li> <li>AI 看到这个错误后，会意识到命令不合法，从而重新生成正确的命令</li> </ol> <pre><code>#!/usr/bin/env python3\nimport json\nimport sys\n\ndata = json.load(sys.stdin)\ncmd = data.get(\"tool_input\", {}).get(\"command\", \"\")\n\nif \"pytest\" in cmd and \"uv run\" not in cmd:\n    print(\"Use 'uv run pytest' instead of bare 'pytest'\", file=sys.stderr)\n    sys.exit(2)  # 非零退出码 → 阻止命令执行\n</code></pre> <ol> <li>效果     当 AI 试图运行 <code>pytest tests/</code> 时，钩子脚本会立即中断该操作，并返回错误提示。AI 会据此自我修正，最终输出正确的 <code>uv run pytest tests</code></li> </ol>","path":["LLM钩子"],"tags":[]},{"location":"markdown/","level":1,"title":"Markdown in 5min","text":"","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#headers","level":2,"title":"Headers","text":"<pre><code># H1 Header\n## H2 Header\n### H3 Header\n#### H4 Header\n##### H5 Header\n###### H6 Header\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#text-formatting","level":2,"title":"Text formatting","text":"<pre><code>**bold text**\n*italic text*\n***bold and italic***\n~~strikethrough~~\n`inline code`\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#links-and-images","level":2,"title":"Links and images","text":"<pre><code>[Link text](https://example.com)\n[Link with title](https://example.com \"Hover title\")\n![Alt text](image.jpg)\n![Image with title](image.jpg \"Image title\")\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#lists","level":2,"title":"Lists","text":"<pre><code>Unordered:\n- Item 1\n- Item 2\n  - Nested item\n\nOrdered:\n1. First item\n2. Second item\n3. Third item\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#blockquotes","level":2,"title":"Blockquotes","text":"<pre><code>&gt; This is a blockquote\n&gt; Multiple lines\n&gt;&gt; Nested quote\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#code-blocks","level":2,"title":"Code blocks","text":"<pre><code>```javascript\nfunction hello() {\n  console.log(\"Hello, world!\");\n}\n```\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#tables","level":2,"title":"Tables","text":"<pre><code>| Header 1 | Header 2 | Header 3 |\n|----------|----------|----------|\n| Row 1    | Data     | Data     |\n| Row 2    | Data     | Data     |\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#horizontal-rule","level":2,"title":"Horizontal rule","text":"<pre><code>---\nor\n***\nor\n___\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#task-lists","level":2,"title":"Task lists","text":"<pre><code>- [x] Completed task\n- [ ] Incomplete task\n- [ ] Another task\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#escaping-characters","level":2,"title":"Escaping characters","text":"<pre><code>Use backslash to escape: \\* \\_ \\# \\`\n</code></pre>","path":["Markdown in 5min"],"tags":[]},{"location":"markdown/#line-breaks","level":2,"title":"Line breaks","text":"<pre><code>End a line with two spaces  \nto create a line break.\n\nOr use a blank line for a new paragraph.\n</code></pre>","path":["Markdown in 5min"],"tags":[]}]}